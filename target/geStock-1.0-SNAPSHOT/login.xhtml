<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

    <f:view locale="#{langueManager.locale}">

        <h:head>
            <meta charset="utf-8"/>
            <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
            <meta name="viewport" content="width=device-width, initial-scale=1"/>
            <meta name="description" content=""/>
            <meta name="author" content=""/>

            <title>#{app_properties.app_name} - #{langue.connexion}</title>

            <!-- Bootstrap -->
            <link rel="stylesheet" href="#{request.contextPath}/resources/dist/plugins/bootstrap/css/bootstrap.css" />
            <!-- Font Awesome -->
            <link rel="stylesheet" href="#{request.contextPath}/resources/dist/plugins/fontawesome/css/all.css" />
            <!-- styles -->
            <link rel="stylesheet" href="#{request.contextPath}/resources/dist/css/adminlte.css" />
            <link rel="stylesheet" href="#{request.contextPath}/resources/dist/css/style.css" />


        </h:head>
        <h:body>

            <div class="container">
                <div class="row">
                    <div class="login-panel">

                        <div class="login-panel-app-name">
                            <h3 style="text-align: center; font-weight: bold;">
                                #{app_properties.app_name}
                            </h3>
                        </div>

                        <h:form>

                            <div class="card card-default">
                                <div class="card-header">
                                    <h5 class=""
                                        style="text-align: center; font-weight: bold; margin-bottom: 5px; display: block;">
                                        #{langue.connexion}
                                    </h5>
                                </div>
                                <div class="card-body">
                                    <div class="form-group">
                                        <p:messages id="messages"
                                                    showDetail="true"
                                                    closable="true"/>
                                    </div>
                                    <div class="form-group">
                                        #{langue.login} :
                                        <p:inputText class="form-control"
                                                     id="Login"
                                                     value="#{connexionManager.utilisateur.login}"
                                                     required="true"/>
                                        <h:message for="Login" />
                                    </div>
                                    <div class="form-group">
                                        #{langue.mot_de_passe} : 
                                        <p:inputText class="form-control"
                                                     type="password"
                                                     value="#{connexionManager.utilisateur.password}"
                                                     id="Password"
                                                     required="true"/>
                                        <h:message for="Password" />
                                    </div>
                                    <br />
                                    <!-- Change this to a button or input when using this as a form -->
                                    <h:commandButton class="btn btn-lg btn-success btn-block"
                                                     type="submit"
                                                     value="#{langue.connexion}"
                                                     action="#{connexionManager.login()}" />

                                    <hr />

                                    <div class="form-group">
                                        <h:outputLabel value="#{langue.Langue} : " for="langue" />
                                        <p:selectOneMenu id="langue"
                                                         class="form-control"
                                                         value="#{langueManager.locale}"
                                                         valueChangeListener="#{langueManager.changer_de_langue}"
                                                         filter="true"
                                                         filterMatchMode="contains"
                                                         onchange="submit()">
                                            <f:selectItems value="#{langueManager.langues}"
                                                           var="lang"
                                                           itemValue="#{lang}" />
                                        </p:selectOneMenu>
                                    </div>

                                </div>
                            </div>

                        </h:form>
                        <div style="text-align: center;">
                            <h6 style="text-align: center;">
                                &copy; Copyright 
                                <a href="#"
                                   target="_blank">
                                    <b><i>#{app_properties.autor}</i></b>  
                                </a>  
                            </h6>
                        </div>
                    </div>
                </div>
            </div>

            <!-- importation des scripts -->

            <!-- jQuery 
            <script src="{request.contextPath}/resources/dist/plugins/jquery/jquery.js"></script> -->
            <!-- Bootstrap 4 -->
            <script src="#{request.contextPath}/resources/dist/plugins/bootstrap/js/bootstrap.js"></script>
            <!-- Fa -->
            <script src="#{request.contextPath}/resources/dist/plugins/fontawesome/js/all.js"></script>
            <!-- Scripts  -->
            <script src="#{request.contextPath}/resources/dist/js/adminlte.js"></script>

        </h:body>

    </f:view>
</html>




