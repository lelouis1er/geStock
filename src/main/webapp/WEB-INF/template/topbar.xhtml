<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://xmlns.jcp.org/jsf/html">


    <!-- Navbar header -->
    <h:form>
        <nav class="main-header navbar navbar-expand navbar-white navbar-light" 
             style="padding: 2px; padding-left: 0px; padding-right: 0px; max-height: 40px; z-index: inherit !important; ">

            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link menu" data-widget="pushmenu" href="#" role="button"><i class="fas fa-bars"></i> #{langue.menu}</a>
                </li>
                <li class="nav-item d-sm-inline-block app-title hidden-lg hidden-md">
                    <span href="" class="nav-link">
                        #{app_properties.app_name}
                    </span>
                </li>
                <li class="nav-item d-sm-inline-block hidden-md">
                    <span href="" class="nav-link">
                        <h:outputText value="#{manageBean.get_user_enterprise().nom} (#{manageBean.cycleEntreprise.nom})"
                                      rendered="#{manageBean.is_employee()}" />
                    </span>
                </li>
            </ul>

            <!-- Navbar-->
            <ul class="navbar-nav ml-auto ml-md-0">

                <li class="nav-item dropdown">

                </li>
            </ul>
            <ul class="navbar-nav ml-auto">

                <!-- Notifications Dropdown Menu -->
                <li class="nav-item dropdown">
                    <a class="nav-link" data-toggle="dropdown" href="#">
                        <i class="far fa-bell"></i>
                        <span class="badge badge-warning navbar-badge">
                            <!-- on calcul le nombre de notifications et on affiche -->
                        </span>
                    </a>
                    <div class="dropdown-menu dropdown-menu-lg dropdown-menu-right">
                        <span class="dropdown-item dropdown-header">
                            <!-- on calcul le nombre de notifications et on affiche -->
                            #{langue.Notifications}
                        </span>
                        <div class="dropdown-divider"></div>

                        <div class="dropdown-divider"></div>
                        <a href="#" class="dropdown-item dropdown-footer">#{langue.voir_tout}</a>
                    </div>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" id="userDropdown" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <i class="fas fa-user fa-fw"></i>
                    </a>
                    <div class="dropdown-menu dropdown-menu-lg dropdown-menu-right" aria-labelledby="userDropdown"
                         style="right: 3px;">
                        <span class="dropdown-item dropdown-header">
                            <!-- on calcul le nombre de notifications et on affiche -->
                            #{manageBean.sessionUser.nom} <a href="#{request.contextPath}/parametres/profil/profil.xhtml"><span class="badge badge-info">#{langue.profil}</span></a>
                        </span>
                        <div class="dropdown-divider"></div>

                        <a class="dropdown-item" href="#{request.contextPath}/parametres/general/index.xhtml">
                            <i class="fas fa-gears"></i>
                            #{langue.Parametres}
                        </a>
                        <div class="dropdown-divider"></div>

                        <p:commandLink class="dropdown-item"
                                       actionListener="#{appController.logout()}"
                                       type="submit"
                                       oncomplete="javascript:location.reload();">
                            <p:confirm header="#{langue['Dialog.header.confirm']}"
                                       message="#{langue['Dialog.message.confirm_logout']}"
                                       icon="pi pi-alert" />
                            <i class="fas fa-sign-out"></i>
                            #{langue.deconnexion}
                        </p:commandLink>
<!--
                        <a class="dropdown-item" href="?logout">
                            <i class="fas fa-sign-out"></i>
                            #{langue.deconnexion}
                        </a>
-->
                    </div>
                </li>
            </ul>
        </nav>
    </h:form>
    <!-- /.navbar -->

</ui:composition>

